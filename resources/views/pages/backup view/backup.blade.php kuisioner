@extends('layouts.app');

@section('title')
    Tracer Study
@endsection


@section('content')

        @include('includes.judul-kuisioner')

        <!-- section kuisioner -->
        <section>
            <div class="content-3-7 overflow-hidden container-xxl mx-auto position-relative"
                style="font-family: 'Inter', sans-serif; margin-top: -100px;">

                <div class="container mx-auto">

                    <form action="" style="margin-top: 1.5rem" action="" method="post" class="content-3-5">
                        @csrf
                            <div class="row mb-5">
                                <div class="col-lg-12 mx-0">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">Nama Lengkap
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="nama_mahasiswa"
                                                            id="nama_mahasiswa" type="text" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">NPM
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="npm_mahasiswa"
                                                            id="npm_mahasiswa" type="text" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">Tempat Lahir
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="tempat_lahir_mahasiswa"
                                                            id="tempat_lahir_mahasiswa" type="text" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">Tanggal Lahir
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="tempat_lahir_mahasiswa"
                                                            id="tempat_lahir_mahasiswa" type="date" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">NIK ( Nomor Induk
                                                        Kependudukan )
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="nik_mahasiswa"
                                                            id="nik_mahasiswa" type="text" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">NPWP (Berikan nilai 0 Jika
                                                        tidak ada )
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="npwp_mahasiswa"
                                                            id="npwp_mahasiswa" type="text" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">No.WhatsApp/Handphone
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="no_telp_mahasiswa"
                                                            id="no_telp_mahasiswa" type="text" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">Email
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <input class="input-field border-0" name="email_mahasiswa"
                                                            id="email_mahasiswa" type="text" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">Tahun Lulus
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <select class="input-field border-0" name="thn_lulus" id="thn_lulus">
                                                            <option selected>Tahun Lulus</option>
                                                            <option value="2015">2015</option>
                                                            <option value="2016">2016</option>
                                                            <option value="2017">2017</option>
                                                            <option value="2018">2018</option>
                                                            <option value="2019">2019</option>
                                                            <option value="2020">2019</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div style="margin-bottom: 1.75rem">
                                                    <label for="" class="d-block input-label-filter">Kode Program Studi
                                                    </label>
                                                    <div class="d-flex w-100 div-input">
                                                        <select class="input-field border-0" name="kd_prog_studi"
                                                            id="kd_prog_studi">
                                                            <option selected>Kode Program Studi</option>
                                                            <option value="Sistem Informasi">57201 (Sistem Informasi)</option>
                                                            <option value="Sistem Komputer">56201 (Sistem Komputer)</option>
                                                            <option value="Manajemen Informatika">57401 (Manajemen Informatika)
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                
                            </div>

                            <div class="row">
                                @foreach ($items as $key => $val)
                                <div class="col-lg-12">
                                    <div class="mx-2 card-item position-relative w-100 h-100">
                                        <div
                                            class="card-item-outline bg-white d-flex flex-column position-relative overflow-hidden h-100">
                                            <div class="row">
                                                <div class="card-header">
                                                    <h2 class="jobs-title my-2 text-capitalize">{{$val->soal_kuisioner}}
                                                    </h2>
                                                </div>
                                                @php
                                                    $jawaban = explode('-', $val->jawaban_pilihan);
                                                @endphp
                                            
                                            @foreach ($jawaban as $jwb)
                                                @if (($jwb == 'jawaban lain'))
                                                <div class="jobs-list mt-4">
                                                    <div>
                                                        <label>
                                                            <input type="radio" class="option-input radio" name="radio_jawaban_lain[{{$key}}]"
                                                            id="id_radio_jawaban_lain"
                                                            onclick="EnableDisableTextBox()"
                                                            />
                                                            Jawaban Lain :
                                                        </label>
                                                    </div>
                                                    <div class="d-flex w-100 div-input-more mt-4">
                                                        <input class="input-field-more border-0" name="jawaban_lain"
                                                        id="jawaban_lain"
                                                        type="text" disabled />
                                                    </div>
                                                </div>
                                                @elseif (($jwb == 'jawaban essai'))
                                                <div class="jobs-list mt-4">
                                                    <div>
                                                        <label>
                                                            <input type="radio" class="option-input radio" name="radio_jawaban_essai" 
                                                            checked />
                                                            Jawaban Essai :
                                                        </label>
                                                    </div>
                                                    <div class="d-flex w-100 div-input-more mt-4">
                                                        <input class="input-field-more border-0" name="jawaban_essai" id="jawaban_essai" type="text" />
                                                    </div>
                                                </div>
                                                @else
                                                <div class="jobs-list mt-4">
                                                    <div>
                                                        <label>
                                                            <input type="radio" class="option-input radio" name="radio_id_jawaban[{{$key}}]" 
                                                            id="radio_id_jawaban"
                                                            value="{{$jwb}}"/>
                                                            {{$jwb}}
                                                        </label>
                                                    </div>
                                                </div>
                                                @endif
                                            @endforeach
                                           
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @endforeach
                                    
                                    
                                    <div class="col-lg-4">
                                            <button class="btn btn-submit-quiz text-white d-block text-center mx-4" type="submit">
                                                Kirim Jawaban
                                            </button>
                                    </div>
                            </div>
                    </form>
                </div>
            </div>
    
        </section>
        <!-- end section kuisioner -->

@endsection

@push('addon-script')
<script>
        function EnableDisableTextBox() {
            let chkYes = document.getElementById("id_radio_jawaban_lain");
            let txtInput = document.getElementById("jawaban_lain");

            txtInput.disabled = chkYes.checked ? false : true;

            if (!txtInput.disabled) {
                txtInput.focus();
            }

        }


</script>
@endpush